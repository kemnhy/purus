<template>
  <div>
    <!-- í—¤ë”ì˜ì—­ -->
    <Header_w lineColor="#092857" />
    <Side_menu />
    <!-- í—¤ë” êµ¬ë¶„ì„  -->
    <hr class="header_line" />
    <!-- ê²¬ì í™•ì¸ -->
    <div class="esti_check esti_inner">
      <div class="esti_wrap">
        <!-- ì˜ì—­ ì´ë¦„ -->
        <div class="esti_title">
          <router-link to="/estimate"><i class="fa-solid fa-arrow-left"></i></router-link>
          <p>ì˜ˆì•½í•˜ê¸°</p>
          <p></p>
        </div>
        <!-- ê²Œì´ì§€ -->
        <div class="esti_gauge">
          <span></span>
        </div>
        <!-- ê°œì¸ì •ë³´ ì…ë ¥ -->
        <div class="personal_data">
          <div class="user_name">
            <p>
              ê³ ê°ë‹˜ì˜ ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
              <span>(í•„ìˆ˜)</span>
            </p>
            <input type="text" v-model="userName" placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." />
          </div>
          <div class="user_number">
            <p>
              ê³ ê°ë‹˜ì˜ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
              <span>(í•„ìˆ˜)</span>
            </p>
            <input
              type="text"
              v-model="userPhone"
              placeholder="ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: 01012345678)" />
          </div>
        </div>
        <!-- ìœ ì˜ì‚¬í•­ ì•ˆë‚´ -->
        <div class="notice_wrap">
          <p class="notice">
            ìœ ì˜ì‚¬í•­ ì•ˆë‚´
            <span>(í•„ìˆ˜)</span>
          </p>
          <ul>
            <li>
              1. ì„œë¹„ìŠ¤ ë²”ìœ„ ì•ˆë‚´
              <p>â€¢ ì œë¹™ê¸° ì™„ì „ ë¶„í•´ í›„ ì²­ì†Œ, ì¬ì¡°ë¦½í•˜ì—¬ ì •ìƒ ì‘ë™ì„ í™•ì¸ í›„ ì™„ë£Œë©ë‹ˆë‹¤.</p>
              <p>â€¢ ì œë¹™ê¸° ì™¸ ë‹¤ë¥¸ ì œí’ˆë“¤ì€ ì œì™¸ë©ë‹ˆë‹¤.</p>
            </li>
            <li>
              2. ì˜ˆì•½ ë³€ê²½ ë° ì·¨ì†Œ ê·œì •
              <p>â€¢ ì„œë¹„ìŠ¤ ì „ë‚  ì·¨ì†Œ ë° ì¼ì •ë³€ê²½: ì´ ìš”ê¸ˆì˜ 30% ìœ„ì•½ê¸ˆ ë°œìƒë©ë‹ˆë‹¤.</p>
              <p>â€¢ ì„œë¹„ìŠ¤ ë‹¹ì¼ ì·¨ì†Œ ë° ì¼ì •ë³€ê²½: ì´ ìš”ê¸ˆì˜ 50% ìœ„ì•½ê¸ˆ ë°œìƒë©ë‹ˆë‹¤.</p>
            </li>
            <li>
              3. í˜„ì¥ ì•ˆë‚´ ë° ì¶”ê°€ ë¹„ìš©
              <p>â€¢ ì„œë¹„ìŠ¤ 1~2ì¼ ì „ ë‹´ë‹¹ìê°€ ì—°ë½ë“œë¦¬ë©°, ì¶œì… ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”.</p>
              <p>
                â€¢ ì ‘ìˆ˜ ë‚´ìš©ê³¼ í˜„ì¥ ìƒí™©ì´ ë‹¤ë¥¼ ê²½ìš° ì¶”ê°€ ë¹„ìš©ì´ ë°œìƒí•˜ê±°ë‚˜, ì„œë¹„ìŠ¤ê°€ ì œí•œë  ìˆ˜
                ìˆìŠµë‹ˆë‹¤.
              </p>
              <p>â€¢ ê³ ê° ì‚¬ì •ìœ¼ë¡œ ì²­ì†Œ ì‹œì‘ ì§€ì—° ì‹œ ì„œë¹„ìŠ¤ê°€ ë¶ˆê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </li>
            <li>
              4. ê²°ì œ ì•ˆë‚´
              <p>
                â€¢ ì„œë¹„ìŠ¤ ë‹¹ì¼ ëŒ€í‘œë²ˆí˜¸(1234-5678)ë¡œ ê²°ì œ ë§í¬ê°€ ë°œì†¡ë˜ë©°, ì²­ì†Œ ì „ ê²°ì œ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
              </p>
            </li>
            <li>
              5. í˜„ì¥ ê²€ìˆ˜ ë° AS ì•ˆë‚´
              <p>â€¢ ê²°ì œ ë§í¬ì™€ í•¨ê»˜ ê²€ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ê°€ ë°œì†¡ë˜ë©°, ë‹´ë‹¹ìì™€ í•¨ê»˜ í˜„ì¥ ê²€ìˆ˜í•´ì£¼ì„¸ìš”.</p>
              <p>â€¢ í˜„ì¥ ê²€ìˆ˜ ì™„ë£Œ ì´í›„ì—ëŠ” ì¶”ê°€ AS ë¶ˆê°€í•©ë‹ˆë‹¤.</p>
            </li>
          </ul>
          <div class="agree">
            <label>
              <input type="checkbox" v-model="selectAgree1" />
              ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í•˜ì˜€ìœ¼ë©°, ì•ˆë‚´ì— ë™ì˜í•©ë‹ˆë‹¤.
            </label>
          </div>
        </div>
        <!-- ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜ -->
        <div class="agree_wrap">
          <p class="agree_title">
            ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜
            <span>(í•„ìˆ˜)</span>
          </p>
          <ul class="agree_list">
            <li>1. ê°œì¸ì •ë³´ ìˆ˜ì§‘ëª©ì  ë° ì´ìš©ëª©ì  : ì „ë¬¸ì²­ì†Œ ê²¬ì  ë° ì„œë¹„ìŠ¤ ì œê³µ</li>
            <li>2. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª© : ì„±ëª…, ì „í™”ë²ˆí˜¸, ì£¼ì†Œ</li>
            <li>3. ê°œì¸ì •ë³´ì˜ ë³´ìœ ê¸°ê°„ ë° ì´ìš©ê¸°ê°„ : íšŒì›íƒˆí‡´ ì‹œ</li>
          </ul>
          <div class="agree">
            <label>
              <input type="checkbox" v-model="selectAgree2" />
              ìœ„ ë‚´ìš©ì„ ëª¨ë‘ í™•ì¸í•˜ì˜€ìœ¼ë©°, ì•ˆë‚´ì— ë™ì˜í•©ë‹ˆë‹¤.
            </label>
          </div>
        </div>
        <p class="small_txt">
          * ê·€í•˜ëŠ” ìœ„ì™€ ê°™ì€ ì¼ë°˜ ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš©ì„ ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ì¼ë°˜
          ê°œì¸ì •ë³´ì˜ í•„ìˆ˜ì  ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•˜ì§€ ì•Šì„ ê²½ìš° ì„œë¹„ìŠ¤ ì´ìš©ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
        </p>
      </div>
      <!-- ë‹¤ìŒ ë²„íŠ¼ -->
      <div v-if="selectAgree1 !== false && selectAgree2 !== false" class="buttons">
        <button class="btn" @click="pushMessage">ê²¬ì ë§Œ ë°›ê¸°</button>
        <button @click="goNextPage" class="btn">ë™ì˜í•˜ê³  ê°€ëŠ¥í•œ ì¼ì • ì„ íƒí•˜ê¸°</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import Header_w from "@/components/Header_w.vue";
import Side_menu from "@/components/Side_menu.vue";
import { useRouter } from "vue-router";
import { ref } from "vue";

const router = useRouter();

// ë‹¤ìŒë²„íŠ¼ ë‚˜ì˜¤ê¸°
const selectAgree1 = ref(false);
const selectAgree2 = ref(false);
// ê²¬ì ë§Œ ë°›ê¸°
const pushMessage = () => {
  alert("ì…ë ¥í•˜ì‹  ì—°ë½ì²˜ë¡œ ê²¬ì ì„œë¥¼ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.");
  router.push("/"); // í™ˆ('/')ìœ¼ë¡œ ì´ë™
};

// ì…ë ¥í•œ ì •ë³´ ë°›ê¸°
const userName = ref("");
const userPhone = ref("");
// ë‹¤ìŒ í˜ì´ì§€ë¡œ ë„˜ì–´ê°€ë©´ì„œ ì •ë³´ ë³´ë‚´ê¸°
const goNextPage = () => {
  if (userName.value === "" || userPhone.value === "") {
    return alert("ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.");
  } else if (!isNaN(userName.value) || userPhone.value.length <= 8) {
    return alert("ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.");
  } else {
    router.push({
      path: "/estimate03",
      query: {
        name: userName.value,
        phone: userPhone.value,
      },
    });
  }
};
</script>

<style scoped lang="scss">
@use "../assets/styles/variables" as *;

.esti_inner {
  max-width: 1000px;
  margin: auto;
  margin-bottom: 50px;
}
// ê²¬ì  í™•ì¸
// ì˜ì—­ ì´ë¦„
.esti_title {
  display: flex;
  height: 60px;
  // background-color: aliceblue;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid $grey-color;
  margin-bottom: 15px;
  p,
  i {
    font-size: $esti-large-txt;
    font-weight: bold;
    color: $font-color;
  }
}
// ê²Œì´ì§€
.esti_gauge {
  position: relative;
  margin-bottom: 30px;
  width: 100%;
  height: 15px;
  border-radius: 10px;
  background-color: #ebebeb;
  overflow: hidden;

  span {
    position: absolute;
    top: 0;
    left: 0;
    width: 50%;
    height: 100%;
    background-color: $point-color;
    border-radius: 10px;
    transition: width 0.4s ease;
  }
}

// ê°œì¸ì •ë³´ ì…ë ¥
.personal_data {
  display: flex;
  gap: $web-spacing;
  justify-content: space-between;
  .user_name,
  .user_number {
    flex: 1;
    p {
      font-size: $medium-txt-2;
      span {
        font-size: 16px;
        color: $point-color;
      }
    }
    .number_input {
      display: flex;
      gap: 10px;
      align-items: center;
      input {
        width: 100px;
      }
    }
    input {
      border: 1px solid $border-color;
      border-radius: 8px;
      padding: 10px 8px;
      margin-top: 10px;
      width: 100%;
    }
    .bar {
      width: 10px;
      height: 2px;
      background-color: $border-color;
      margin-top: 10px;
    }
  }
  // ì—°ë½ì²˜ ì„ íƒ
  .custom-select {
    position: relative;
    font-family: sans-serif;
    user-select: none;
    width: 80px;
    .selected {
      margin-top: 10px;
      border: 1px solid $border-color;
      border-radius: 8px;
      padding: 6px 8px;
      background: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all 0.2s ease;

      .arrow {
        font-size: 10px;
        margin-left: 6px;
        color: $border-color;
        transition: transform 0.2s ease;
        &.open {
          transform: rotate(180deg);
        }
      }
    }

    .options {
      position: absolute;
      top: 105%;
      left: 0;
      width: 100%;
      max-height: 110px; // ğŸ‘ˆ ìŠ¤í¬ë¡¤ ë†’ì´
      overflow-y: auto;
      border: 1px solid #ccc;
      background: #fff;
      border-radius: 6px;
      z-index: 10;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);

      li {
        padding: 6px 8px;
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
          background-color: $grey-color;
        }

        &.active {
          background-color: $main-color;
          color: $point-color;
        }
      }

      /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
      &::-webkit-scrollbar {
        width: 6px;
      }
      &::-webkit-scrollbar-thumb {
        background: #bbb;
        border-radius: 10px;
      }
      &::-webkit-scrollbar-thumb:hover {
        background: #888;
      }
    }
  }
}

// ìœ ì˜ì‚¬í•­ ì•ˆë‚´
.notice_wrap,
.agree_wrap {
  margin-top: 60px;
  .notice,
  .agree_title {
    margin-bottom: 15px;
    font-size: $medium-txt-2;
    span {
      font-size: 16px;
      color: $point-color;
    }
  }
  ul {
    padding: 20px;
    background-color: #ebebeb;
    border-radius: 10px;
    color: #333;
    display: flex;
    gap: 15px;
    flex-direction: column;
    margin-bottom: 20px;

    li {
      font-size: 16px;
      p {
        font-size: 14px;
        margin-left: 10px;
        &:first-child {
          margin-top: 8px;
        }
      }
    }
  }
  .agree_list {
    background-color: #fff;
    padding: 0;
    gap: 5px;
    margin-bottom: 20px;
  }
}
.agree {
  font-size: $small-txt;
  input {
    margin-right: 10px;
  }
}
.small_txt {
  font-size: 14px;
  margin-top: 40px;
}

// ë‹¤ìŒ ë²„íŠ¼
.buttons {
  display: flex;
  gap: 20px;
  margin-top: 60px;
  .btn {
    flex: 1;
    font-weight: 600;
    text-align: center;
  }
}
</style>
